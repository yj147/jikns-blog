#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🚀 执行 pre-push 质量检查..."

# 运行质量检查命令
echo "📝 检查代码格式和类型..."
pnpm quality:check

if [ $? -eq 0 ]; then
  echo "✅ 质量检查通过，允许推送"
  exit 0
else
  echo "❌ 质量检查失败，请修复问题后再推送"
  echo "💡 运行 'pnpm quality:fix' 自动修复部分问题"
  exit 1
fi